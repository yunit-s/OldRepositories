<!DOCTYPE html>
<html lang="en">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vue01-Router</title>

    <!-- Vue.js 활용을 위한 CDN -->
    <script src="https://cdn.jsdelivr.net/npm/vue@2.7.14/dist/vue.js"></script>

    <!-- Vue 라우터를 위한 CDN 포함시키기 -->
    <!--
        Vue 라우터는 외부 라이브러리이기 때문에, 링크로 포함시켜야 한다.
        한 가지 조심해야 하는 것 - 버전 호환
            Web에서 Vue 라우터 CDN을 검색하면, Vue.js 3.x 버전의 Vue 라우터 CDN이 먼저 검색된다.
            지금 우리는 2.x 버전의 Vue.js 를 쓰기 때문에 이에 맞는 라우터를 가져와야 한다.
            우리는 vue-router@3.5.3 버전을 이용한다.
            이 코드는 교수님께서 따로 공유해주심.            
            <script src="https://unpkg.com/vue-router@3.5.3/dist/vue-router.js"></script>
    -->
    <script src="https://unpkg.com/vue-router@3.5.3/dist/vue-router.js"></script>

</head>
<body>
    <div id="app">
        <h1>Vue 라우터 예제</h1>
        <p>
            <!-- 링크 2개 만들기 -->

            <!-- 일반적인 링크 생성 방식 - anchor 태그 -->
            <a href="">하하</a>
            <a href="">호호</a><br>

            <!--
                Vue 라우팅을 할 때는, anchor태그가 아니라 router-link라는 태그를 쓴다.
                to : 우리가 가리킬 컴포넌트의 경로
                    여기서는 '/'가 없어도 된다.
            -->
            <router-link to="/main">main conponent로 이동</router-link>
            <router-link to="/login">login conponent로 이동</router-link>
        </p>

        <!-- 링크를 눌렀을 때, 목표로 하는 컴포넌트가 보여지는 곳 -->
        <router-view></router-view>
    </div>

    <script>
        // main component와 login component 작성
        let mainComponent = {
            template: '<div>main component</div>'
        }
        let loginComponent = {
            template: '<div>login component</div>'
        }

        // 경로 설정하기
        //      어떤 경로를 이용하면 어떤 component를 사용할 지 설정한다.
        //      설정할 때는 배열을 이용하여 설정한다.
        //      배열을 쓰는 이유 : 설정할 경로가 많기 때문
        //      각각의 경로는 객체로 표현해야 한다.
        let routes = [{
            path: '/main', // 라우팅 경로
            component: mainComponent // 맵핑시킬 컴포넌트
        }, {
            path: '/login', // 라우팅 경로
            component: loginComponent // 맵핑시킬 컴포넌트
        }];

        // 이렇게 설정된 경로정보(배열)를 이용해서 Vue 라우터 객체를 생성한다.
        //      Vue 라우터는 별도의 라이브러리로, VueRouter()라는 생성자 함수를 제공해준다.
        // 라우터 만들기
        let router = new VueRouter({
            // 경로 설정
            // routes: routes
            routes // Java Script에서 key와 value가 완전히 동일할 때는 축약형으로 표현할 수 있다.

        })

        new Vue({
            // el: '#app',
                // el 속성은 root component에서만 사용된다. 부착시킬 element를 명시하는 것
                // 이를 대신해서, Vue() 생성자함수 끝에 .$mount() 함수를 사용할 수도 있으며,
                //      공식 문서에서는 $mount() 함수를 더 많이 사용한다.
            data: {},
            methods: {},
            components: {},
            // Vue instance가 내부적으로 라우팅을 하기 위해 필요한 router 속성
            router // router: router의 축약형 표현
        }).$mount('#app');
    </script>
</body>
</html>